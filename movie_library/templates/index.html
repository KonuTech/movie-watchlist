{% extends "layout.html" %}

{% block head_content %}
<link href="{{ url_for('static', filename='css/movies.css') }}" rel="stylesheet">
{% endblock %}

{% block main_content %}
{% if movies_data %}
<table class="table">
    <colgroup>
        <col style="width: 60%">
        <col style="width: 25%">
        <col style="width: 15%">
    </colgroup>
    <thead>
    <tr class="table_header">
        <th class="table__cell table__cell--header">
            Title
        </th>
        <th class="table__cell table__cell--header">
            Release Date
        </th>
        <th class="table__cell table__cell--header">
        </th>
    </tr>
    </thead>
    <tbody>
    {% for movie in movies_data %}
    <tr>
        <td class="table__cell">
            <p class="table__movieTitle">
                {{ movie.title }}
            </p>
            <p class="table__movieDirector">
                By {{ movie.director }}
            </p>
        </td>
        <td class="table__cell">
            {{ movie.year }}
        </td>
        <td class="table__cell">
            <a class="table__link" href="{{ url_for('pages.movie', _id=movie._id) }}">
                View
            </a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
<p class="table__empty">
    You haven't added any movies yet.
    <a class="link" href="{{ url_for('pages.add_movie') }}">
        Add one!
    </a>
</p>
{% endif %}

<a class="button button--add" href="{{ url_for('pages.add_movie') }}">
        <span>
            +
        </span>
</a>
{% endblock main_content %}
